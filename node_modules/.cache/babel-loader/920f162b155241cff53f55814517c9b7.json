{"ast":null,"code":"import instance from \"../axiosConfig\";\n\nconst registerUserCall = body => {\n  return instance.post(`auth/signup`, body).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nconst loginUserCall = body => {\n  instance.post(`http://localhost:8080/auth/signin`, body).then(response => {\n    console.log(\"then\");\n    return response.data;\n  }).catch(err => {\n    throwError(err);\n  });\n};\n\nconst checkLoginKey = () => {\n  return instance.get(`auth/checkkey`).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nconst getUserProfile = username => {\n  return instance.get(`user/${username}`).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nfunction throwError(err) {\n  if (err.response) {\n    if (err.response.data.fieldErrors) {\n      err.response.data.message = err.response.data.fieldErrors[0].field + \": \" + err.response.data.fieldErrors[0].message;\n    }\n\n    throw err.response.data.message;\n  } else if (err.request) {\n    throw err.request;\n  } else {\n    throw err;\n  }\n}\n\nexport { registerUserCall, loginUserCall, checkLoginKey, getUserProfile };","map":{"version":3,"names":["instance","registerUserCall","body","post","then","response","data","catch","err","throwError","loginUserCall","console","log","checkLoginKey","get","getUserProfile","username","fieldErrors","message","field","request"],"sources":["C:/Users/Bogdan Calinescu/Desktop/Sprint4/FE/bogdan-calinescu-s3-fe/src/service/userService.js"],"sourcesContent":["\r\nimport instance from \"../axiosConfig\"\r\n\r\nconst registerUserCall = (body) => {\r\n    return instance.post(`auth/signup`, body)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err);\r\n        })\r\n}\r\n\r\nconst loginUserCall = (body) => {\r\n     instance.post(`http://localhost:8080/auth/signin`, body)\r\n        .then((response) =>{console.log(\"then\"); return response.data})\r\n        .catch((err) => {\r\n            throwError(err)\r\n        })\r\n}\r\n\r\nconst checkLoginKey = () => {\r\n    return instance.get(`auth/checkkey`)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err)\r\n        })\r\n}\r\nconst getUserProfile = (username) => {\r\n    return instance.get(`user/${username}`)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err)\r\n        })\r\n}\r\nfunction throwError (err){\r\n    if (err.response) {\r\n        if(err.response.data.fieldErrors){\r\n            err.response.data.message = err.response.data.fieldErrors[0].field + \": \" + err.response.data.fieldErrors[0].message;\r\n        }\r\n        throw err.response.data.message;\r\n    } else if (err.request) {\r\n        throw err.request;\r\n    } else {\r\n        throw err;\r\n    }\r\n}\r\n\r\nexport {\r\n    registerUserCall,\r\n    loginUserCall,\r\n    checkLoginKey,\r\n    getUserProfile\r\n}"],"mappings":"AACA,OAAOA,QAAP,MAAqB,gBAArB;;AAEA,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;EAC/B,OAAOF,QAAQ,CAACG,IAAT,CAAe,aAAf,EAA6BD,IAA7B,EACFE,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAQA,MAAME,aAAa,GAAIR,IAAD,IAAU;EAC3BF,QAAQ,CAACG,IAAT,CAAe,mCAAf,EAAmDD,IAAnD,EACIE,IADJ,CACUC,QAAD,IAAa;IAACM,OAAO,CAACC,GAAR,CAAY,MAAZ;IAAqB,OAAOP,QAAQ,CAACC,IAAhB;EAAqB,CADjE,EAEIC,KAFJ,CAEWC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJJ;AAKJ,CAND;;AAQA,MAAMK,aAAa,GAAG,MAAM;EACxB,OAAOb,QAAQ,CAACc,GAAT,CAAc,eAAd,EACFV,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAOA,MAAMO,cAAc,GAAIC,QAAD,IAAc;EACjC,OAAOhB,QAAQ,CAACc,GAAT,CAAc,QAAOE,QAAS,EAA9B,EACFZ,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAOA,SAASC,UAAT,CAAqBD,GAArB,EAAyB;EACrB,IAAIA,GAAG,CAACH,QAAR,EAAkB;IACd,IAAGG,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBW,WAArB,EAAiC;MAC7BT,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBY,OAAlB,GAA4BV,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBW,WAAlB,CAA8B,CAA9B,EAAiCE,KAAjC,GAAyC,IAAzC,GAAgDX,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBW,WAAlB,CAA8B,CAA9B,EAAiCC,OAA7G;IACH;;IACD,MAAMV,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBY,OAAxB;EACH,CALD,MAKO,IAAIV,GAAG,CAACY,OAAR,EAAiB;IACpB,MAAMZ,GAAG,CAACY,OAAV;EACH,CAFM,MAEA;IACH,MAAMZ,GAAN;EACH;AACJ;;AAED,SACIP,gBADJ,EAEIS,aAFJ,EAGIG,aAHJ,EAIIE,cAJJ"},"metadata":{},"sourceType":"module"}