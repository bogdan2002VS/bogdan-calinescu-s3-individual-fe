{"ast":null,"code":"import instance from \"../axiosConfig\";\nimport axios from 'axios';\n\nconst registerUserCall = body => {\n  return instance.post(`auth/signup`, body).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nconst loginUserCall = async body => {\n  const response = await axios.post(`http://localhost:8080/auth/signin`, body);\n  return response.data;\n};\n\nconst checkLoginKey = () => {\n  return instance.get(`auth/checkkey`).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nconst getUserProfile = username => {\n  return instance.get(`user/${username}`).then(response => response.data).catch(err => {\n    throwError(err);\n  });\n};\n\nfunction throwError(err) {\n  if (err.response) {\n    if (err.response.data.fieldErrors) {\n      err.response.data.message = err.response.data.fieldErrors[0].field + \": \" + err.response.data.fieldErrors[0].message;\n    }\n\n    throw err.response.data.message;\n  } else if (err.request) {\n    throw err.request;\n  } else {\n    throw err;\n  }\n}\n\nexport { registerUserCall, loginUserCall, checkLoginKey, getUserProfile };","map":{"version":3,"names":["instance","axios","registerUserCall","body","post","then","response","data","catch","err","throwError","loginUserCall","checkLoginKey","get","getUserProfile","username","fieldErrors","message","field","request"],"sources":["C:/Users/Bogdan Calinescu/Desktop/Sprint4/FE/bogdan-calinescu-s3-fe/src/service/userService.js"],"sourcesContent":["\r\nimport instance from \"../axiosConfig\"\r\nimport axios from 'axios'\r\n\r\nconst registerUserCall = (body) => {\r\n    return instance.post(`auth/signup`, body)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err);\r\n        })\r\n}\r\n\r\nconst loginUserCall = async (body) =>  {\r\n   const response = await axios.post(`http://localhost:8080/auth/signin`, body)\r\n     return response.data;  \r\n}\r\n\r\nconst checkLoginKey = () => {\r\n    return instance.get(`auth/checkkey`)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err)\r\n        })\r\n}\r\nconst getUserProfile = (username) => {\r\n    return instance.get(`user/${username}`)\r\n        .then((response) => response.data)\r\n        .catch((err) => {\r\n            throwError(err)\r\n        })\r\n}\r\nfunction throwError (err){\r\n    if (err.response) {\r\n        if(err.response.data.fieldErrors){\r\n            err.response.data.message = err.response.data.fieldErrors[0].field + \": \" + err.response.data.fieldErrors[0].message;\r\n        }\r\n        throw err.response.data.message;\r\n    } else if (err.request) {\r\n        throw err.request;\r\n    } else {\r\n        throw err;\r\n    }\r\n}\r\n\r\nexport {\r\n    registerUserCall,\r\n    loginUserCall,\r\n    checkLoginKey,\r\n    getUserProfile\r\n}"],"mappings":"AACA,OAAOA,QAAP,MAAqB,gBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;EAC/B,OAAOH,QAAQ,CAACI,IAAT,CAAe,aAAf,EAA6BD,IAA7B,EACFE,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAQA,MAAME,aAAa,GAAG,MAAOR,IAAP,IAAiB;EACpC,MAAMG,QAAQ,GAAG,MAAML,KAAK,CAACG,IAAN,CAAY,mCAAZ,EAAgDD,IAAhD,CAAvB;EACE,OAAOG,QAAQ,CAACC,IAAhB;AACJ,CAHD;;AAKA,MAAMK,aAAa,GAAG,MAAM;EACxB,OAAOZ,QAAQ,CAACa,GAAT,CAAc,eAAd,EACFR,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAOA,MAAMK,cAAc,GAAIC,QAAD,IAAc;EACjC,OAAOf,QAAQ,CAACa,GAAT,CAAc,QAAOE,QAAS,EAA9B,EACFV,IADE,CACIC,QAAD,IAAcA,QAAQ,CAACC,IAD1B,EAEFC,KAFE,CAEKC,GAAD,IAAS;IACZC,UAAU,CAACD,GAAD,CAAV;EACH,CAJE,CAAP;AAKH,CAND;;AAOA,SAASC,UAAT,CAAqBD,GAArB,EAAyB;EACrB,IAAIA,GAAG,CAACH,QAAR,EAAkB;IACd,IAAGG,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBS,WAArB,EAAiC;MAC7BP,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBU,OAAlB,GAA4BR,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBS,WAAlB,CAA8B,CAA9B,EAAiCE,KAAjC,GAAyC,IAAzC,GAAgDT,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBS,WAAlB,CAA8B,CAA9B,EAAiCC,OAA7G;IACH;;IACD,MAAMR,GAAG,CAACH,QAAJ,CAAaC,IAAb,CAAkBU,OAAxB;EACH,CALD,MAKO,IAAIR,GAAG,CAACU,OAAR,EAAiB;IACpB,MAAMV,GAAG,CAACU,OAAV;EACH,CAFM,MAEA;IACH,MAAMV,GAAN;EACH;AACJ;;AAED,SACIP,gBADJ,EAEIS,aAFJ,EAGIC,aAHJ,EAIIE,cAJJ"},"metadata":{},"sourceType":"module"}