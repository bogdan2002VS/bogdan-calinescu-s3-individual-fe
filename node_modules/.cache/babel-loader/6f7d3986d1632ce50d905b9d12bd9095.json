{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bcali\\\\Desktop\\\\amd RYZEN 7\\\\individual FE\\\\src\\\\pages\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthenticationService from './services/AuthenticationService';\nimport useAuth from '../services/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    setAuth\n  } = useAuth();\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const handleLogin = event => {\n    event.preventDefault(); // validate email\n\n    if (!/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/.test(user.email)) {\n      setErrorEmail(\"Invalid email address\");\n      return;\n    }\n\n    AuthenticationService.login(user).then(response => {\n      const {\n        accessToken,\n        roles\n      } = response;\n      setAuth({\n        accessToken,\n        roles\n      });\n      navigate(\"/home\");\n    }).catch(error => {\n      setErrorMessage(\"Invalid email or password\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: user.email,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: errorEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"kPBziHNw/StHjgBfleq2wGC3PNg=\", false, function () {\n  return [useNavigate, useAuth];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","AuthenticationService","useAuth","Login","navigate","setAuth","user","setUser","email","password","errorEmail","setErrorEmail","errorMessage","setErrorMessage","handleInputChange","event","name","value","target","handleLogin","preventDefault","test","login","then","response","accessToken","roles","catch","error"],"sources":["C:/Users/bcali/Desktop/amd RYZEN 7/individual FE/src/pages/login/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthenticationService from './services/AuthenticationService';\nimport useAuth from '../services/useAuth';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { setAuth } = useAuth();\n\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [errorEmail, setErrorEmail] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleLogin = (event) => {\n    event.preventDefault();\n\n    // validate email\n    if (!/^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/.test(user.email)) {\n      setErrorEmail(\"Invalid email address\");\n      return;\n    }\n\n    AuthenticationService.login(user)\n      .then((response) => {\n        const { accessToken, roles } = response;\n        setAuth({ accessToken, roles });\n        navigate(\"/home\");\n      })\n      .catch((error) => {\n        setErrorMessage(\"Invalid email or password\");\n      });\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onSubmit={handleLogin}>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleInputChange}\n            required\n          />\n          <span>{errorEmail}</span>\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={user.password}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Login</button>\n        </div>\n        {errorMessage && <div>{errorMessage}</div>}\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,qBAAP,MAAkC,kCAAlC;AACA,OAAOC,OAAP,MAAoB,qBAApB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClB,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM;IAAEK;EAAF,IAAcH,OAAO,EAA3B;EAEA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC;IAC/BS,KAAK,EAAE,EADwB;IAE/BC,QAAQ,EAAE;EAFqB,CAAD,CAAhC;EAKA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,EAAD,CAAhD;;EAEA,MAAMe,iBAAiB,GAAIC,KAAD,IAAW;IACnC,MAAM;MAAEC,IAAF;MAAQC;IAAR,IAAkBF,KAAK,CAACG,MAA9B;IACAX,OAAO,CAAC,EAAE,GAAGD,IAAL;MAAW,CAACU,IAAD,GAAQC;IAAnB,CAAD,CAAP;EACD,CAHD;;EAKA,MAAME,WAAW,GAAIJ,KAAD,IAAW;IAC7BA,KAAK,CAACK,cAAN,GAD6B,CAG7B;;IACA,IAAI,CAAC,6DAA6DC,IAA7D,CAAkEf,IAAI,CAACE,KAAvE,CAAL,EAAoF;MAClFG,aAAa,CAAC,uBAAD,CAAb;MACA;IACD;;IAEDV,qBAAqB,CAACqB,KAAtB,CAA4BhB,IAA5B,EACGiB,IADH,CACSC,QAAD,IAAc;MAClB,MAAM;QAAEC,WAAF;QAAeC;MAAf,IAAyBF,QAA/B;MACAnB,OAAO,CAAC;QAAEoB,WAAF;QAAeC;MAAf,CAAD,CAAP;MACAtB,QAAQ,CAAC,OAAD,CAAR;IACD,CALH,EAMGuB,KANH,CAMUC,KAAD,IAAW;MAChBf,eAAe,CAAC,2BAAD,CAAf;IACD,CARH;EASD,CAlBD;;EAoBA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAM,QAAQ,EAAEM,WAAhB;MAAA,wBACE;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,OADP;UAEE,IAAI,EAAC,OAFP;UAGE,KAAK,EAAEb,IAAI,CAACE,KAHd;UAIE,QAAQ,EAAEM,iBAJZ;UAKE,QAAQ;QALV;UAAA;UAAA;UAAA;QAAA,QAFF,eASE;UAAA,UAAOJ;QAAP;UAAA;UAAA;UAAA;QAAA,QATF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAYE;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,UADP;UAEE,IAAI,EAAC,UAFP;UAGE,KAAK,EAAEJ,IAAI,CAACG,QAHd;UAIE,QAAQ,EAAEK,iBAJZ;UAKE,QAAQ;QALV;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAZF,eAsBE;QAAA,uBACE;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAtBF,EAyBGF,YAAY,iBAAI;QAAA,UAAMA;MAAN;QAAA;QAAA;QAAA;MAAA,QAzBnB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgCD,CArED;;GAAMT,K;UACaH,W,EACGE,O;;;KAFhBC,K;AAuEN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}